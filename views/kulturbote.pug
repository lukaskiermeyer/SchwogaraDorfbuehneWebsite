extends layout

block content
    .kulturbote-container
        h1 Kulturbote Archiv
        p Wählen Sie einen Kulturboten aus, um ihn direkt hier anzusehen.

        .kulturbote-selection
            each pdf in kulturboten
                .kulturbote-card(data-src=`/kulturboten/${pdf}`)
                    span #{pdf.replace('.pdf', '')}

        .pdf-viewer
            if kulturboten.length > 0
                iframe#pdf-frame(src=`/kulturboten/${kulturboten[0]}`, width="100%", height="85vh")
            else
                p Keine Kulturboten verfügbar.

    script.
        document.querySelectorAll(".kulturbote-card").forEach(card => {
            card.addEventListener("click", function() {
                let pdfFrame = document.getElementById("pdf-frame");
                pdfFrame.src = this.dataset.src;

                // Entferne Markierung von allen Karten
                document.querySelectorAll(".kulturbote-card").forEach(c => c.classList.remove("active"));

                // Markiere die geklickte Karte
                this.classList.add("active");
            });
        });

        // Standardmäßig die erste Karte als aktiv setzen
        let firstCard = document.querySelector(".kulturbote-card");
        if (firstCard) firstCard.classList.add("active");
